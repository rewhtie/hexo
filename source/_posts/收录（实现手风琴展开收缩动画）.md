---
title: 收录（实现手风琴展开收缩动画）
date: 2023-11-21 16:47:59
tags:
  - 收录
  - CSS
---

配合windicss实现手风琴动画的效果

<!-- more -->


_transition="duration-300" _transform="~ gpu" _overflow="hidden"

```html
<div _transition="duration-300" _transform="~ gpu" :style="{ height: visible ? '230px' : '0px'}" _w="500px" _overflow="hidden">
  你好  
</div>
```


>重点：
  不能使用v-show或者v-if，而是直接设置元素height：0、overflow：hideen进行隐藏
  _transition="duration-300" _transform="~ gpu"给元素设置出场动画
  通过visible动态控制元素height，实现手风琴效果


>衍生：元素高度是动态的，其实可以设置一个最小的高度，延迟3s后设置高度为auto
  缺点：动画会缺失，其实超过一定高度基本发现不了，到时大不了动态计算元素内高度

使用watch实现3s改变height：auto
```ts
watch: {
  // 手风琴效果动态高度
  visible() {
    this.autoHeight = '300px'
    this.$nextTick(() => {
      setTimeout(() => {
        this.autoHeight = 'auto'
      }, 300)
    })
  }
}
```

<!-- more -->
