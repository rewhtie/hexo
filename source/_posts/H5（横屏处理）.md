---
layout: post
title: H5（横屏处理）
date: 2024-03-01 09:02:32
tags: H5
---

vue3、 uni-app示例代码（思路：容器元素旋转90度）

<!-- more -->

<font color="#08c">将整个元素旋转90度，设置旋转的中心，将元素定位到页面正确的位置</font>

> 1、先获取屏幕的宽度，例举：350px
2、元素填充整个视图是 width:100vw; height: 100vh
3、将元素 旋转90deg，将旋转中心点设置 （目前是竖屏、所以 左上角是） transformOrigin: `0% 0%`
4、这时候 看不到元素了，因为被旋转到了视图外，所以得定位回到 视图内 position: 'fixed'; left: info.windowWidth + 'px'（容器元素是left，而不是top，这里会有误区）
5、这时候 就可以 宽高进行互换了	width: '100vh'; height: '100vw'

```ts
onMounted(async () => {
	const info = uni.getWindowInfo()
	contentStyle.value = {
		transform: 'rotateZ(90deg)',
		transformOrigin: `0% 0%`,
		width: '100vh',
		height: '100vw',
		position: 'fixed',
		left: info.windowWidth + 'px'
	}
})
```

<font color="red">最好是使用rem单位，设置根元素font-size，不然样式会错乱</font>
<font color="red">在uni-app使用rpx单位，rpx是根据屏幕宽度进行比例换算的，这时候使用到rpx的地方都会奇大无比，具体看（uni-app横竖屏切换）</font>

<!-- more -->